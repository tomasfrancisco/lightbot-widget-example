{"version":3,"sources":["../../lightbot.js/lib/lightbot-react/index.js","../../lightbot.js/lib/lightbot-react/withLightbotMessenger.js","../../lightbot.js/lib/lightbot-js/index.js","../../lightbot.js/lib/lightbot-js/messenger.js","../../lightbot.js/lib/lightbot-js/api.js","../../lightbot.js/lib/lightbot-js/state-manager.js","App.tsx","index.tsx"],"names":["Object","defineProperty","exports","value","_withLightbotMessenger","__webpack_require__","keys","forEach","key","enumerable","get","withLightbotMessenger","messengerProps","Component","_React$Component","LightbotDecorator","props","_this","instance","Constructor","TypeError","_classCallCheck","this","self","call","_typeof","_assertThisInitialized","_possibleConstructorReturn","_getPrototypeOf","_defineProperty","forceUpdate","messenger","toggleMessenger","_lightbotJs","LightbotMessenger","target","i","arguments","length","source","ownKeys","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","_objectSpread","onChange","updateHandler","subClass","superClass","prototype","create","constructor","writable","configurable","_setPrototypeOf","_inherits","protoProps","staticProps","_defineProperties","_createClass","React","createElement","_extends","isMessengerOpen","isOpen","messages","sendMessage","LightbotMessage","obj","__esModule","newObj","hasOwnProperty","desc","set","default","_interopRequireWildcard","Symbol","iterator","assign","apply","descriptor","o","setPrototypeOf","getPrototypeOf","__proto__","p","ReferenceError","_messenger","_regeneratorRuntime","_v","_api","_stateManager","asyncGeneratorStep","gen","resolve","reject","_next","_throw","arg","info","error","done","Promise","then","_asyncToGenerator","fn","args","err","undefined","_ref","hostURL","agentId","mark","_callee","isInitialized","wrap","_context","prev","next","stateManager","agent","initMessenger","sent","updateAgent","updateLayout","layout","pushUpdate","stop","_ref3","_callee2","message","messagesResponse","_context2","saveMessages","type","apiClient","postJump","label","postMessage","map","messageResponse","sender","t0","popMessage","Error","_x","setTimeout","_callee3","agentData","_context3","postStartConversation","getAgentData","abrupt","console","warn","StateManager","LightbotAPI","_crossFetch","sessionId","userId","response","body","post","lightbot_agent_id","session_id","json","bot","_ref2","endpoint","fetch","JSON","stringify","headers","Content-Type","method","_x2","_getAgentData","_postMessage","_callee4","_context4","human","user_id","_x3","_postJump","_callee5","jump","_context5","_x4","_get","_callee6","_context6","_x5","initMessagesState","initLayoutState","initAgentState","callback","state","updateMessagesStorage","pop","updateLayoutStorage","updateAgentStorage","testLocalStorage","localStorage","getItem","deserialize","setItem","serialize","isLocalStorageAvailable","testKey","removeItem","parse","getKey","AppDisconnected","classCallCheck","possibleConstructorReturn","transformMessages","author","user","text","addNewMessage","event","countReplayLength","question","onToggle","id","avatarUrl","_this$props","react_default","a","onClick","main","onMessageSend","placeholder","width","App","ReactDOM","render","App_App","document","getElementById"],"mappings":"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","file":"static/js/main.a4e1206b.chunk.js","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _withLightbotMessenger = require(\"./withLightbotMessenger\");\n\nObject.keys(_withLightbotMessenger).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _withLightbotMessenger[key];\n    }\n  });\n});","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.withLightbotMessenger = withLightbotMessenger;\nObject.defineProperty(exports, \"LightbotMessage\", {\n  enumerable: true,\n  get: function get() {\n    return _lightbotJs.LightbotMessage;\n  }\n});\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _lightbotJs = require(\"../lightbot-js\");\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) {\n          var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {};\n\n          if (desc.get || desc.set) {\n            Object.defineProperty(newObj, key, desc);\n          } else {\n            newObj[key] = obj[key];\n          }\n        }\n      }\n    }\n\n    newObj.default = obj;\n    return newObj;\n  }\n}\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction withLightbotMessenger(messengerProps) {\n  return function (Component) {\n    var _temp;\n\n    return _temp =\n    /*#__PURE__*/\n    function (_React$Component) {\n      _inherits(LightbotDecorator, _React$Component);\n\n      function LightbotDecorator(props) {\n        var _this;\n\n        _classCallCheck(this, LightbotDecorator);\n\n        _this = _possibleConstructorReturn(this, _getPrototypeOf(LightbotDecorator).call(this, props));\n\n        _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"updateHandler\", function () {\n          _this.forceUpdate();\n        });\n\n        _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"toggleMessenger\", function () {\n          _this.messenger.toggleMessenger();\n        });\n\n        _this.messenger = new _lightbotJs.LightbotMessenger(_objectSpread({}, messengerProps, {\n          onChange: _this.updateHandler\n        }));\n        return _this;\n      }\n\n      _createClass(LightbotDecorator, [{\n        key: \"render\",\n        value: function render() {\n          return React.createElement(Component, _extends({}, this.props, {\n            isMessengerOpen: this.messenger.isOpen,\n            messages: this.messenger.messages,\n            sendMessage: this.messenger.sendMessage,\n            toggleMessenger: this.toggleMessenger\n          }));\n        }\n      }]);\n\n      return LightbotDecorator;\n    }(React.Component), _temp;\n  };\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _messenger = require(\"./messenger\");\n\nObject.keys(_messenger).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _messenger[key];\n    }\n  });\n});","\"use strict\";\n\nvar _regeneratorRuntime = require(\"/Users/tomasfrancisco/dev/lightbot-widget-example/node_modules/@babel/runtime/regenerator\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.LightbotMessenger = void 0;\n\nvar _v = _interopRequireDefault(require(\"uuid/v4\"));\n\nvar _api = require(\"./api\");\n\nvar _stateManager = require(\"./state-manager\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar LightbotMessenger =\n/*#__PURE__*/\nfunction () {\n  function LightbotMessenger(_ref) {\n    var _this = this;\n\n    var hostURL = _ref.hostURL,\n        agentId = _ref.agentId,\n        onChange = _ref.onChange;\n\n    _classCallCheck(this, LightbotMessenger);\n\n    _defineProperty(this, \"toggleMessenger\",\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var isInitialized;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (_this.stateManager.agent.isInitialized) {\n                _context.next = 6;\n                break;\n              }\n\n              _context.next = 3;\n              return _this.initMessenger();\n\n            case 3:\n              isInitialized = _context.sent;\n              _context.next = 6;\n              return _this.stateManager.updateAgent({\n                isInitialized: isInitialized\n              });\n\n            case 6:\n              _this.stateManager.updateLayout({\n                isMessengerOpen: !_this.stateManager.layout.isMessengerOpen\n              });\n\n              _this.pushUpdate();\n\n            case 8:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    })));\n\n    _defineProperty(this, \"sendMessage\",\n    /*#__PURE__*/\n    function () {\n      var _ref3 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2(message) {\n        var messagesResponse, messages;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _this.stateManager.saveMessages([message], _this.pushUpdate);\n\n                _context2.prev = 1;\n\n                if (!(message.type === \"jump\")) {\n                  _context2.next = 8;\n                  break;\n                }\n\n                _context2.next = 5;\n                return _this.apiClient.postJump(message.label);\n\n              case 5:\n                messagesResponse = _context2.sent;\n                _context2.next = 11;\n                break;\n\n              case 8:\n                _context2.next = 10;\n                return _this.apiClient.postMessage(message.label);\n\n              case 10:\n                messagesResponse = _context2.sent;\n\n              case 11:\n                if (messagesResponse) {\n                  messages = messagesResponse.map(function (messageResponse) {\n                    return _objectSpread({}, messageResponse, {\n                      sender: \"bot\"\n                    });\n                  });\n\n                  _this.stateManager.saveMessages(messages, _this.pushUpdate);\n                }\n\n                _context2.next = 18;\n                break;\n\n              case 14:\n                _context2.prev = 14;\n                _context2.t0 = _context2[\"catch\"](1);\n\n                _this.stateManager.popMessage(_this.pushUpdate);\n\n                throw new Error(\"An error occurred sending a message.\");\n\n              case 18:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[1, 14]]);\n      }));\n\n      return function (_x) {\n        return _ref3.apply(this, arguments);\n      };\n    }());\n\n    _defineProperty(this, \"pushUpdate\", function () {\n      if (_this.onChange) {\n        setTimeout(_this.onChange, 0);\n      }\n    });\n\n    _defineProperty(this, \"initMessenger\",\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee3() {\n      var messagesResponse, messages, agentData;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.prev = 0;\n              _context3.next = 3;\n              return _this.apiClient.postStartConversation();\n\n            case 3:\n              messagesResponse = _context3.sent;\n\n              if (messagesResponse) {\n                messages = messagesResponse.map(function (message) {\n                  return _objectSpread({}, message, {\n                    sender: \"bot\"\n                  });\n                });\n\n                _this.stateManager.saveMessages(messages, _this.pushUpdate);\n              }\n\n              _context3.next = 7;\n              return _this.apiClient.getAgentData();\n\n            case 7:\n              agentData = _context3.sent;\n\n              if (agentData && _typeof(agentData) === \"object\") {\n                _this.stateManager.updateAgent(agentData);\n              }\n\n              return _context3.abrupt(\"return\", true);\n\n            case 12:\n              _context3.prev = 12;\n              _context3.t0 = _context3[\"catch\"](0);\n              console.warn(\"An error occurred initializing messenger.\");\n\n            case 15:\n              return _context3.abrupt(\"return\", false);\n\n            case 16:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, this, [[0, 12]]);\n    })));\n\n    this.stateManager = new _stateManager.StateManager();\n    this.apiClient = new _api.LightbotAPI(hostURL, agentId, (0, _v.default)(), (0, _v.default)());\n\n    if (onChange) {\n      this.onChange = onChange;\n    }\n  }\n  /**\n   * It will set the messenger state as open and initialize conversation\n   * in case it's needed.\n   */\n\n\n  _createClass(LightbotMessenger, [{\n    key: \"isOpen\",\n    get: function get() {\n      return this.stateManager.layout.isMessengerOpen;\n    }\n  }, {\n    key: \"messages\",\n    get: function get() {\n      return this.stateManager.messages;\n    }\n  }]);\n\n  return LightbotMessenger;\n}();\n\nexports.LightbotMessenger = LightbotMessenger;","\"use strict\";\n\nvar _regeneratorRuntime = require(\"/Users/tomasfrancisco/dev/lightbot-widget-example/node_modules/@babel/runtime/regenerator\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.LightbotAPI = void 0;\n\nvar _crossFetch = require(\"cross-fetch\");\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar LightbotAPI =\n/*#__PURE__*/\nfunction () {\n  function LightbotAPI(hostURL, agentId, sessionId, userId) {\n    var _this = this;\n\n    _classCallCheck(this, LightbotAPI);\n\n    _defineProperty(this, \"postStartConversation\",\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var response, body;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return _this.post(\"/start\", {\n                lightbot_agent_id: _this.agentId,\n                session_id: _this.sessionId\n              });\n\n            case 3:\n              response = _context.sent;\n              _context.next = 6;\n              return response.json();\n\n            case 6:\n              body = _context.sent;\n\n              if (!(body && body.bot)) {\n                _context.next = 9;\n                break;\n              }\n\n              return _context.abrupt(\"return\", body.bot);\n\n            case 9:\n              _context.next = 14;\n              break;\n\n            case 11:\n              _context.prev = 11;\n              _context.t0 = _context[\"catch\"](0);\n              throw new Error(\"An error occurred while starting conversation.\");\n\n            case 14:\n              return _context.abrupt(\"return\", undefined);\n\n            case 15:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this, [[0, 11]]);\n    })));\n\n    _defineProperty(this, \"post\",\n    /*#__PURE__*/\n    function () {\n      var _ref2 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2(endpoint, body) {\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return (0, _crossFetch.fetch)(\"\".concat(_this.hostURL).concat(endpoint), {\n                  body: JSON.stringify(body),\n                  headers: {\n                    \"Content-Type\": \"application/json\"\n                  },\n                  method: \"POST\"\n                });\n\n              case 2:\n                return _context2.abrupt(\"return\", _context2.sent);\n\n              case 3:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      return function (_x, _x2) {\n        return _ref2.apply(this, arguments);\n      };\n    }());\n\n    this.hostURL = hostURL;\n    this.agentId = agentId;\n    this.sessionId = sessionId;\n    this.userId = userId;\n  }\n  /**\n   * Initializes a new bot conversation\n   */\n\n\n  _createClass(LightbotAPI, [{\n    key: \"getAgentData\",\n\n    /**\n     * Gets agent data, e.g. theme, logo, etc.\n     */\n    value: function () {\n      var _getAgentData = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee3() {\n        var response, body;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.prev = 0;\n                _context3.next = 3;\n                return this.get(\"/agent-data?lightbot_agent_id=\".concat(this.agentId));\n\n              case 3:\n                response = _context3.sent;\n                _context3.next = 6;\n                return response.json();\n\n              case 6:\n                body = _context3.sent;\n\n                if (!body) {\n                  _context3.next = 9;\n                  break;\n                }\n\n                return _context3.abrupt(\"return\", body);\n\n              case 9:\n                _context3.next = 14;\n                break;\n\n              case 11:\n                _context3.prev = 11;\n                _context3.t0 = _context3[\"catch\"](0);\n                throw new Error(\"An error occurred while fetching agent data.\");\n\n              case 14:\n                return _context3.abrupt(\"return\", undefined);\n\n              case 15:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this, [[0, 11]]);\n      }));\n\n      function getAgentData() {\n        return _getAgentData.apply(this, arguments);\n      }\n\n      return getAgentData;\n    }()\n    /**\n     * Sends a message and gets a reply back\n     * @param message string value the user typed\n     */\n\n  }, {\n    key: \"postMessage\",\n    value: function () {\n      var _postMessage = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee4(message) {\n        var response, body;\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.prev = 0;\n                _context4.next = 3;\n                return this.post(\"\", {\n                  human: message,\n                  lightbot_agent_id: this.agentId,\n                  session_id: this.sessionId,\n                  user_id: this.userId\n                });\n\n              case 3:\n                response = _context4.sent;\n                _context4.next = 6;\n                return response.json();\n\n              case 6:\n                body = _context4.sent;\n\n                if (!(body && body.bot)) {\n                  _context4.next = 9;\n                  break;\n                }\n\n                return _context4.abrupt(\"return\", body.bot);\n\n              case 9:\n                _context4.next = 14;\n                break;\n\n              case 11:\n                _context4.prev = 11;\n                _context4.t0 = _context4[\"catch\"](0);\n                throw new Error(\"An error occurred while sending a message.\");\n\n              case 14:\n                return _context4.abrupt(\"return\", undefined);\n\n              case 15:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this, [[0, 11]]);\n      }));\n\n      function postMessage(_x3) {\n        return _postMessage.apply(this, arguments);\n      }\n\n      return postMessage;\n    }()\n    /**\n     * Sends a jump id and gets a reply back\n     * @param jump id the user selected from jump options\n     */\n\n  }, {\n    key: \"postJump\",\n    value: function () {\n      var _postJump = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee5(jump) {\n        var response, body;\n        return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.prev = 0;\n                _context5.next = 3;\n                return this.post(\"/jump\", {\n                  jump: jump,\n                  lightbot_agent_id: this.agentId,\n                  session_id: this.sessionId,\n                  user_id: this.userId\n                });\n\n              case 3:\n                response = _context5.sent;\n                _context5.next = 6;\n                return response.json();\n\n              case 6:\n                body = _context5.sent;\n\n                if (!(body && body.bot)) {\n                  _context5.next = 9;\n                  break;\n                }\n\n                return _context5.abrupt(\"return\", body.bot);\n\n              case 9:\n                _context5.next = 14;\n                break;\n\n              case 11:\n                _context5.prev = 11;\n                _context5.t0 = _context5[\"catch\"](0);\n                throw new Error(\"An error occured while sending a jump.\");\n\n              case 14:\n                return _context5.abrupt(\"return\", undefined);\n\n              case 15:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this, [[0, 11]]);\n      }));\n\n      function postJump(_x4) {\n        return _postJump.apply(this, arguments);\n      }\n\n      return postJump;\n    }()\n  }, {\n    key: \"get\",\n    value: function () {\n      var _get = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee6(endpoint) {\n        return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                _context6.next = 2;\n                return (0, _crossFetch.fetch)(\"\".concat(this.hostURL).concat(endpoint));\n\n              case 2:\n                return _context6.abrupt(\"return\", _context6.sent);\n\n              case 3:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n\n      function get(_x5) {\n        return _get.apply(this, arguments);\n      }\n\n      return get;\n    }()\n  }]);\n\n  return LightbotAPI;\n}();\n\nexports.LightbotAPI = LightbotAPI;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.StateManager = void 0;\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n/**\n * Internal State for State Manager\n * Some properties are not exposed, so it means the type should not be exposed either\n */\n\n/**\n * State Manager\n * is responsible for keeping messages and bot agent relative data.\n * Non critical information like messages and agent data is stored in browser storage.\n *\n * Session and User data should be kept under the control of the API - e.g. cookies.\n * WARNING: NEVER USE STATE MANAGER TO DEAL WITH CRITICAL DATA\n */\n\n\nvar StateManager =\n/*#__PURE__*/\nfunction () {\n  _createClass(StateManager, null, [{\n    key: \"getKey\",\n    value: function getKey(value) {\n      return \"\\\"19Hgw012xn!@\\\"\".concat(value);\n    }\n  }]);\n\n  function StateManager() {\n    _classCallCheck(this, StateManager);\n\n    _defineProperty(this, \"state\", {\n      agent: {\n        isInitialized: false\n      },\n      layout: {\n        isMessengerOpen: false\n      },\n      messages: []\n    });\n\n    this.initMessagesState();\n    this.initLayoutState();\n    this.initAgentState();\n  }\n\n  _createClass(StateManager, [{\n    key: \"saveMessages\",\n    value: function saveMessages(messages, callback) {\n      this.state.messages = this.state.messages.concat(messages);\n      this.updateMessagesStorage();\n\n      if (callback) {\n        callback();\n      }\n    }\n  }, {\n    key: \"popMessage\",\n    value: function popMessage(callback) {\n      var message = this.state.messages.pop();\n      this.updateMessagesStorage();\n\n      if (callback) {\n        callback();\n      }\n\n      return message;\n    }\n  }, {\n    key: \"updateLayout\",\n\n    /**\n     * Interface to override existing or create new layout property values\n     * @param layout Overrides to layout store\n     */\n    value: function updateLayout(layout) {\n      this.state.layout = Object.assign({}, this.state.layout, layout);\n      this.updateLayoutStorage();\n    }\n  }, {\n    key: \"updateAgent\",\n    value: function updateAgent(agent) {\n      this.state.agent = Object.assign({}, this.state.agent, agent);\n      this.updateAgentStorage();\n    }\n  }, {\n    key: \"initMessagesState\",\n    value: function initMessagesState() {\n      if (!this.testLocalStorage()) {\n        console.warn(\"An error occurred while initalizing message storage. LocalStorage is not available\");\n        return;\n      }\n\n      var messages = localStorage.getItem(StateManager.keys.messages);\n\n      if (!messages) {\n        localStorage.setItem(StateManager.keys.messages, this.serialize(this.state.messages));\n      } else {\n        try {\n          this.state.messages = this.deserialize(messages);\n        } catch (err) {\n          localStorage.setItem(StateManager.keys.messages, this.serialize(this.state.messages));\n          console.warn(\"An error occurred while initalizing message storage. The message history was reset\");\n        }\n      }\n    }\n  }, {\n    key: \"updateMessagesStorage\",\n    value: function updateMessagesStorage() {\n      if (!this.testLocalStorage()) {\n        return;\n      }\n\n      var messages = localStorage.getItem(StateManager.keys.messages);\n\n      if (!messages) {\n        localStorage.setItem(StateManager.keys.messages, this.serialize(this.state.messages));\n        console.warn(\"An error occurred while removing last message. The messages history was reset.\");\n        return;\n      }\n\n      localStorage.setItem(StateManager.keys.messages, this.serialize(this.state.messages));\n    }\n  }, {\n    key: \"initLayoutState\",\n    value: function initLayoutState() {\n      if (!this.testLocalStorage()) {\n        console.warn(\"An error occurred while initalizing layout storage. LocalStorage is not available.\");\n        return;\n      }\n\n      var layout = localStorage.getItem(StateManager.keys.layout);\n\n      if (!layout) {\n        localStorage.setItem(StateManager.keys.layout, this.serialize(this.state.layout));\n      } else {\n        try {\n          this.state.layout = this.deserialize(layout);\n        } catch (err) {\n          localStorage.setItem(StateManager.keys.layout, this.serialize(this.state.layout));\n          console.warn(\"An error occurred while initalizing layout storage. The layout was reset.\");\n        }\n      }\n    }\n  }, {\n    key: \"updateLayoutStorage\",\n    value: function updateLayoutStorage() {\n      if (!this.testLocalStorage()) {\n        return;\n      }\n\n      var layout = localStorage.getItem(StateManager.keys.layout);\n\n      if (!layout) {\n        localStorage.setItem(StateManager.keys.layout, this.serialize(this.state.layout));\n        console.warn(\"An error occurred while removing last message. The layout was reset.\");\n      }\n\n      localStorage.setItem(StateManager.keys.layout, this.serialize(this.state.layout));\n    }\n  }, {\n    key: \"initAgentState\",\n    value: function initAgentState() {\n      if (!this.testLocalStorage()) {\n        console.warn(\"An error occurred while initalizing agent storage. LocalStorage is not available.\");\n        return;\n      }\n\n      var agent = localStorage.getItem(StateManager.keys.agent);\n\n      if (!agent) {\n        localStorage.setItem(StateManager.keys.agent, this.serialize(this.state.agent));\n      } else {\n        try {\n          this.state.agent = this.deserialize(agent);\n        } catch (err) {\n          localStorage.setItem(StateManager.keys.agent, this.serialize(this.state.agent));\n          console.warn(\"An error occurred while initalizing agent storage. The agent was reset\");\n        }\n      }\n    }\n  }, {\n    key: \"updateAgentStorage\",\n    value: function updateAgentStorage() {\n      if (!this.testLocalStorage()) {\n        return;\n      }\n\n      var agent = localStorage.getItem(StateManager.keys.agent);\n\n      if (!agent) {\n        localStorage.setItem(StateManager.keys.agent, this.serialize([]));\n        throw new Error(\"An error occurred while updating agent. The agent was reset.\");\n      }\n\n      localStorage.setItem(StateManager.keys.agent, this.serialize(this.state.agent));\n    }\n    /**\n     * Returns true if LocalStorage is available\n     */\n\n  }, {\n    key: \"testLocalStorage\",\n    value: function testLocalStorage() {\n      if (this.state.isLocalStorageAvailable !== undefined) {\n        return this.state.isLocalStorageAvailable;\n      }\n\n      var testKey = \"localstorage_test_key\";\n      var testValue = \"localstorage_test_value\";\n\n      try {\n        localStorage.setItem(testKey, testValue);\n\n        if (localStorage.getItem(testKey) === testValue) {\n          localStorage.removeItem(testKey);\n          this.state.isLocalStorageAvailable = true;\n        }\n      } catch (err) {\n        this.state.isLocalStorageAvailable = false;\n      }\n\n      return this.state.isLocalStorageAvailable;\n    }\n  }, {\n    key: \"serialize\",\n    value: function serialize(value) {\n      return JSON.stringify(value);\n    }\n  }, {\n    key: \"deserialize\",\n    value: function deserialize(value) {\n      return JSON.parse(value);\n    }\n  }, {\n    key: \"messages\",\n    get: function get() {\n      return this.state.messages;\n    }\n  }, {\n    key: \"layout\",\n    get: function get() {\n      return this.state.layout;\n    }\n  }, {\n    key: \"agent\",\n    get: function get() {\n      return this.state.agent;\n    }\n  }]);\n\n  return StateManager;\n}();\n\nexports.StateManager = StateManager;\n\n_defineProperty(StateManager, \"keys\", {\n  agent: StateManager.getKey(\"agent\"),\n  layout: StateManager.getKey(\"layout\"),\n  messages: StateManager.getKey(\"messages\")\n});","import \"./App.css\";\nimport \"@progress/kendo-theme-default/dist/all.css\";\n\nimport {\n  Chat,\n  ChatMessageSendEvent,\n  Message,\n  User\n} from \"@progress/kendo-react-conversational-ui\";\nimport {\n  LightbotMessage,\n  LightbotMessengerDecoratedProps,\n  withLightbotMessenger\n} from \"lightbot/lib/lightbot-react\";\nimport React, { Component } from \"react\";\n\ninterface AppProps extends LightbotMessengerDecoratedProps {}\n\nclass AppDisconnected extends Component<\n  AppProps,\n  {\n    bot: User;\n    user: User;\n  }\n> {\n  constructor(props: AppProps) {\n    super(props);\n    const bot = {\n      id: 0\n    };\n\n    this.state = {\n      bot,\n      user: {\n        id: 1,\n        avatarUrl: \"https://via.placeholder.com/24/008000/008000.png\"\n      }\n    };\n  }\n\n  public transformMessages = (messages: LightbotMessage[]): Message[] => {\n    return messages.map<Message>(message => ({\n      author: message.sender === \"bot\" ? this.state.bot : this.state.user,\n      text: message.label\n    }));\n  };\n\n  addNewMessage = (event: ChatMessageSendEvent) => {\n    this.props.sendMessage({\n      sender: \"human\",\n      type: \"plain\",\n      label: event.message.text as string\n    });\n  };\n\n  countReplayLength = (question?: string) => {\n    return `${question} contains exactly ${\n      question ? question.length : 0\n    } symbols.`;\n  };\n\n  render() {\n    const { user } = this.state;\n    const { messages, isMessengerOpen } = this.props;\n    return (\n      <div>\n        <button onClick={this.onToggle}>\n          {isMessengerOpen ? \"Close\" : \"Open\"}\n        </button>\n        {isMessengerOpen && (\n          <Chat\n            user={user}\n            messages={this.transformMessages(messages)}\n            onMessageSend={this.addNewMessage}\n            placeholder={\"Type a message...\"}\n            width={400}\n          />\n        )}\n      </div>\n    );\n  }\n\n  private onToggle = () => {\n    this.props.toggleMessenger();\n  };\n}\n\nexport const App = withLightbotMessenger<AppProps>({\n  hostURL: \"https://api.lightbot.io/v1/passthrough\",\n  agentId: \"7a1eedf8-3afa-4281-b254-9f9d9bc97f6a\"\n})(AppDisconnected);\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport { App } from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}